<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Edit</title>

        <script src="../cordova.js"></script>
        <script src="../js/jquery.min.js"></script>
        <link rel="stylesheet" href="../css/materialize.min.css" />
        <script type="text/javascript" src="../js/materialize.min.js"></script>
        <link rel="stylesheet" href="../css/icons.css" />

        <link rel="stylesheet" type="text/css" href="../css/general.css">
        <script type="text/javascript" src="../js/general.js"></script>
        <script src="../js/actions.js"></script>

        <script>
            // Can be used in this page to get the information about the event.
            let event = JSON.parse(query.get("event"));
            let eventId = query.get("eventId");

            function save(){
                if(eventId === null){
                    action.events.push(event);
                }else{
                    action.events[eventId] = event;
                }
                saveActions();
                window.location.href = "edit.html?action=" + actionId;
            }
        </script>
    </head>
    <body>

        <nav id="header" class="red">
            <a href="edit.html" id="back" class="sidenav-trigger"><i class="icon-back"></i></a>
            <script>
                document.addEventListener("deviceready", function(){
                    $("#back").attr("href", $("#back").attr("href") + "?action=" + actionId);
                })
            </script>
            <h5 class="action-name"></h5>
        </nav>

        <div id="notification" style="display: none">
            <div class="help-text" style="display: block;">
                <h4>Notification event not implemented</h4>
                <p>This may be added in a future release</p>
            </div>
        </div>
        <div id="message" style="display: none">
            <div class="help-text" style="display: block;">
                <h4>Message event not implemented</h4>
                <p>This may be added in a future release</p>
            </div>
        </div>
        <div id="settings" style="display: none">
            <div class="help-text" style="display: block;">
                <h4>Settings event not implemented</h4>
                <p>This may be added in a future release</p>
            </div>
        </div>
        <div id="smarthome" style="display: none">
            <div class="help-text" style="display: block;">
                <h4>Smart home event not implemented</h4>
                <p>This may be added in a future release</p>
            </div>
        </div>
        <div id="socialmedia" style="display: none">
            <div class="help-text" style="display: block;">
                <h4>Social media event not implemented</h4>
                <p>This may be added in a future release</p>
            </div>
        </div>
        <div id="taxi" style="display: none">
            <div class="help-text" style="display: block;">
                <h4>Ride service event not implemented</h4>
                <p>This may be added in a future release</p>
            </div>
        </div>

        <button onclick="save()" class="modal-trigger primary-btn btn-floating btn-large waves-effect waves-light red"><i class="icon-done"></i></button>

        <script>
            $("#" + event.type).show();
        </script>

    </body>
</html>