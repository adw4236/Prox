<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Edit</title>

        <script src="../cordova.js"></script>
        <script src="../js/jquery.min.js"></script>
        <link rel="stylesheet" href="../css/materialize.min.css" />
        <script type="text/javascript" src="../js/materialize.min.js"></script>
        <link rel="stylesheet" href="../css/icons.css" />

        <link rel="stylesheet" type="text/css" href="../css/general.css">
        <script type="text/javascript" src="../js/general.js"></script>
        <script src="../js/actions.js"></script>

        <script>
            // Can be used in this page to get the information about the trigger.
            let trigger = JSON.parse(query.get("trigger"));
            let triggerId = query.get("triggerId");

            function save(){
                if(triggerId === null){
                    action.triggers.push(trigger);
                }else{
                    action.triggers[triggerId] = trigger;
                }
                saveActions();
                window.location.href = "edit.html?action=" + actionId;
            }
        </script>
    </head>
    <body>

        <nav id="header" class="red">
            <a href="#" data-target="sidenav" class="sidenav-trigger"><i class="icon-menu"></i></a>
            <h5 class="action-name"></h5>
        </nav>

        <ul id="sidenav" class="sidenav">
            <li id="nav_title" class="red">
                <h4>Menu</h4>
            </li>
            <li><a href="../index.html"><i class="icon-home"></i>Home</a></li>
            <li><a href="../actions.html"><i class="icon-actions"></i>Actions</a></li>
            <li><a href="../travel.html"><i class="icon-travel"></i>Travel</a></li>
            <li><a href="../discovery.html"><i class="icon-discovery"></i>Discovery</a></li>
            <li><a href="../packing.html"><i class="icon-packing"></i>Packing</a></li>
            <li><a href="../settings.html"><i class="icon-settings"></i>Settings</a></li>
        </ul>

        <div id="proximity" style="display: none">
            Proximity
        </div>
        <div id="time" style="display: none">
            Time of Day
        </div>
        <div id="weather" style="display: none">
            Weather
        </div>
        <div id="speed" style="display: none">
            Speed
        </div>
        <div id="devices" style="display: none">
            Devices
        </div>

        <button onclick="save()" class="modal-trigger primary-btn btn-floating btn-large waves-effect waves-light red"><i class="icon-done"></i></button>

        <script>
            $("#" + trigger.type).show();
        </script>

    </body>
</html>