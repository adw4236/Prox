<!DOCTYPE html>
<html>
    <head>
        <title>Actions</title>

        <script src="cordova.js"></script>
        <script src="js/jquery.min.js"></script>
        <link rel="stylesheet" href="css/materialize.min.css" />
        <script type="text/javascript" src="js/materialize.min.js"></script>
        <link rel="stylesheet" href="css/icons.css" />

        <link rel="stylesheet" type="text/css" href="css/general.css">
        <script type="text/javascript" src="js/general.js"></script>
        <script src="js/actions.js"></script>

        <style>
            input[type=text]:not(.browser-default):focus:not([readonly])+label{
                color: #f44336;
            }
            input[type=text]:not(.browser-default):focus:not([readonly]){
                border-bottom: 1px solid #f44336;
                -webkit-box-shadow: 0 1px 0 0 #f44336;
                box-shadow: 0 1px 0 0 #f44336;
            }
        </style>
    </head>
    <body>

        <nav id="header" class="red">
            <a href="#" data-target="sidenav" class="sidenav-trigger"><i class="icon-menu"></i></a>
            <h5>Actions</h5>
        </nav>

        <ul id="sidenav" class="sidenav">
            <li id="nav_title" class="red">
                <h4>Menu</h4>
            </li>
            <li><a href="index.html"><i class="icon-home"></i>Home</a></li>
            <li><a href="actions.html"><i class="icon-actions"></i>Actions</a></li>
            <li><a href="travel.html"><i class="icon-travel"></i>Travel</a></li>
            <li><a href="discovery.html"><i class="icon-discovery"></i>Discovery</a></li>
            <li><a href="packing.html"><i class="icon-packing"></i>Packing</a></li>
            <li><a href="settings.html"><i class="icon-settings"></i>Settings</a></li>
        </ul>

        <div id="actions" class="collection">
            <a href="action/edit.html?action=" id="actions-template" class="collection-item">
                <span class="name"></span>
                <i style="float: right; font-size: 20px;" class="delete icon-delete"></i>
            </a>
        </div>

        <div id="empty-actions" class="help-text">
            <h4>No Actions</h4>
            <p>You can create one by clicking the add button</p>
        </div>

        <button data-target="nameAction" class="modal-trigger primary-btn btn-floating btn-large waves-effect waves-light red"><i class="icon-add"></i></button>

        <div id="nameAction" class="modal">
            <div class="modal-content">
                <div class="input-field inline" style="width: 90%;">
                    <input id="actionName" type="text">
                    <label for="actionName">Action Name</label>
                </div>
            </div>
            <div class="modal-footer">
                <button id="createAction" class="btn-floating btn-big waves-effect waves-light red" style="margin-right: 10px;"><i class="icon-done"></i></button>
            </div>
        </div>

        <script>
            // Confirming the create action dialog
            $("#createAction").on("click", function(){
                let name = $("#actionName").val();
                let id = newAction(name);
                window.location.href = "action/edit.html?action=" + id;
            });
        </script>

        <div id="confirmDelete" class="modal">
            <div class="modal-content">
                <span>Delete action: <span id="deletingAction"></span>?</span>
            </div>
            <div class="modal-footer">
                <button id="cancelDelete" class="btn waves-effect waves-light red"><i class="icon-x"></i> Cancel</button>
                <button id="deleteAction" class="btn waves-effect waves-light red" style="margin-right: 10px;"><i class="icon-delete"></i> Delete</button>
            </div>
        </div>
    </body>
</html>
